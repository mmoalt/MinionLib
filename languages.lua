gCurrentLanguage = "us"

stringsML =
{
    ["us"] =
    {
		--general
        generalSettings                 = "General",
		time							= "Time (s)",
		name							= "Name",
		priorityUp 						= "Higher Priority",
		priorityDown					= "Lower Priority",
	
		--blacklistmanager
        blacklistManager                = "BlacklistManager",
        blacklistName                   = "Blacklist Name",
        blacklistEntry                  = "Blacklist Entry",
        entryTime                       = "Entry Time",
        deleteEntry                     = "Delete Entry",
        addEntry                        = "Add Entry",
		
		--markermanager
		minLevel						= "Min Level",
		maxLevel						= "Max Level",
		markerTime						= "Marker Time (s)",
		markerManager					= "MarkerManager",
		createMarker				 	= "Create Marker",
		editMarkers						= "Edit Markers",
		markerType						= "Marker Type",
		editMarkerList					= "Setup List",
		addMarker					 	= "Add To List",
		editMarker						= "Edit Marker",
		newMarker						= "New Marker",
		setupList						= "Setup List",
		markerMode						= "Marker Mode",
		markerList						= "Marker List",
		singleMarker					= "Single Marker",
		randomMarker					= "Random Marker",
        markerFields                    = "Marker Fields",
        grindMarker                     = "Grind Marker",
		removeMarker					= "Remove Marker",
		deleteMarker					= "Delete Marker",
        markerName                      = "Marker Name",
		
		--meshManager
        meshManager                     = "MeshManager",
		noMeshLoad						= "No Mesh Load",
		showrealMesh					= "Show NavMesh",
		newMeshName						= "New Meshfile Name",
		newMesh							= "Clear Navmesh",
		saveMesh						= "Save NavMesh",
		buildNAVMesh					= "Build NavMesh",
		editor							= "Edit Mesh",
		recoder							= "Record Mesh",
		connections						= "Connections",
		showPath						= "Show Path",
        setEvacPoint                    = "SetEvacPoint",
		recmesh							= "Record Mesh",
		recAreaType						= "Record Type",
		recAreaSize						= "Record Size",
		changeMesh						= "Change Mesh",
		changeAreaType					= "Change Type",
		changeAreaSize					= "Change Size",	
		biDirOffMesh					= "Bidirectional Offmeshconnection",
		addOffMeshSpot					= "Add OffMeshConnection",
		delOffMeshSpot					= "Del OffMeshConnection",
		typeOffMeshSpot					= "Type OffMeshConnection",
		createSingleCell				= "Create Single Cell",
        markers                         = "Markers",
        selectClosestMarker             = "Select Closest Marker",
		mapMarker						= "Map Marker",
        navmesh                         = "Navmesh",
		showMesh						= "Show Triangles ",
		
    },                                  
    ["cn"] =                            
    {
		--general	
		generalSettings                 = "普通设置",
		time							= "时间 (s)",
		name							= "名字",
		priorityUp 						= "高优先权",
		priorityDown					= "低优先权",
		
		--blacklistmanager
        blacklistManager                = "黑名单管理器",
        blacklistName                   = "黑名单名字",
        blacklistEntry                  = "黑名单值",
        entryTime                       = "值时间",
        deleteEntry                     = "删除值",
        addEntry                        = "添加值",
		
		--markermanager
		minLevel						= "最低等级",
		maxLevel						= "最高等级",
		markerTime						= "标记时间 (s)",
		markerManager					= "标识管理器",
		createMarker				 	= "创建标识",
		editMarkers						= "编辑标识",
		markerType						= "标识类型",
		editMarkerList					= "设置清单",
		addMarker					 	= "添加到清单",
		editMarker						= "编辑标识",
		newMarker						= "新的标识",
		markerList						= "标识清单",
		setupList						= "设置清单",
		markerMode						= "标记模式",
		singleMarker					= "单个标记",
		randomMarker					= "随机标记",
		removeMarker					= "移除标记",
		deleteMarker					= "删除标记",
        markerFields                    = "Marker Fields",
        grindMarker                     = "普通地面挂机标记",
        markerName                      = "标识名字",
        markerName                      = "マーカー名",
		
		--meshManager
        meshManager                     = "网格脚本管理器",
		showMesh						= "显示三角网格",
		showrealMesh					= "显示实际网格",
		newMeshName						= "新网格文件名字",
		newMesh							= "创建新的网格文件",
		saveMesh						= "保存网格到文件",
		buildNAVMesh					= "建一个导航网格",
		editor							= "编辑",
        recoder							= "录制网格",
		connections						= "连接",
		showPath						= "显示路径",
        setEvacPoint                    = "设置规避点",
		recmesh							= "录制网格",
		recAreaType						= "录制类型",
		recAreaSize						= "录制大小",
		changeMesh						= "改变网格",
		changeAreaType					= "改变类型",
		changeAreaSize					= "改变大小",		
		biDirOffMesh					= "双向 连接点（跳跃）",
		addOffMeshSpot					= "添加 连接点（跳跃）",
		delOffMeshSpot					= "删除 连接点（跳跃）",
		typeOffMeshSpot					= "类型 连接点（跳跃）",
        markers                         = "标识",
		createSingleCell				= "Create Single Cell",
        selectClosestMarker             = "选择最近的标识",
		mapMarker						= "Map Marker",
        navmesh                         = "网格脚本",
		showMesh						= "显示三角网格",
		noMeshLoad						= "No Mesh Load",
	},
    ["jp"] =
    {
		--general   
        generalSettings                 = "一般設定",
		time							= "Time (s)",
		name							= "Name",
		priorityUp 						= "Higher Priority",
		priorityDown					= "Lower Priority",
		
		--blacklistmanager
        blacklistManager                = "BlacklistManager",
        blacklistName                   = "Blacklist Name",
        blacklistEntry                  = "Blacklist Entry",
        entryTime                       = "Entry Time",
        deleteEntry                     = "Delete Entry",
        addEntry                        = "Add Entry",
		
		--markermanager
		minLevel						= "Min Level",
		maxLevel						= "Max Level",
		markerTime						= "Marker Time (s)",
		markerManager					= "MarkerManager",
		createMarker				 	= "Create Marker",
		editMarkers						= "Edit Markers",
		markerType						= "Marker Type",
		editMarkerList					= "Setup List",
		addMarker					 	= "Add To List",
		editMarker						= "Edit Marker",
		newMarker						= "New Marker",
		setupList						= "Setup List",
		markerMode						= "Marker Mode",
		markerList						= "Marker List",
		singleMarker					= "Single Marker",
		randomMarker					= "Random Marker",
        markerFields                    = "Marker Fields",
        grindMarker                     = "Grind Marker",
		removeMarker					= "Remove Marker",
		deleteMarker					= "Delete Marker",
        markerName                      = "マーカー名",
		
		--meshManager
        meshManager                     = "３Dメッシュ管理", 	
		showMesh						= "メッシュ表示(三角)",		
		showrealMesh					= "３Dメッシュナビ表示",
		newMeshName						= "新規メッシュファイル名",
		newMesh							= "新規メッシュファイル",
		saveMesh						= "３Dメッシュナビ保存",
		buildNAVMesh					= "３Dメッシュナビ作る",
		editor							= "編集",
        recoder							= "Record Mesh",
		connections						= "Connections",
		showPath						= "道路標示",
        setEvacPoint                    = "	退避地点登録",
		recmesh							= "３Dメッシュ記録",
		recAreaType						= "種類記録",
		recAreaSize						= "大小記録",
		changeMesh						= "３Dメッシュ変更",
		changeAreaType					= "種類変更",
		changeAreaSize					= "大小変更",		
		biDirOffMesh					= "双方向　Offメッシュ接続",
		addOffMeshSpot					= "追加 Offメッシュ接続",
		delOffMeshSpot					= "削除 Offメッシュ接続",
		typeOffMeshSpot					= "Type Offメッシュ接続",
        markers                         = "マーカー",
		createSingleCell				= "Create Single Cell",
        selectClosestMarker             = "近距離マーカーを選択",
		mapMarker						= "Map Marker",
        navmesh                         = "３Dメッシュナビ",
		showMesh						= "メッシュ表示(三角)",		
		noMeshLoad						= "No Mesh Load",
		
	},   
    ["de"] =
    {
		--general
        generalSettings                 = "General",
		time							= "Time (s)",
		name							= "Name",
		priorityUp 						= "Higher Priority",
		priorityDown					= "Lower Priority",
	
		--blacklistmanager
        blacklistManager                = "BlacklistManager",
        blacklistName                   = "Blacklist Name",
        blacklistEntry                  = "Blacklist Entry",
        entryTime                       = "Entry Time",
        deleteEntry                     = "Delete Entry",
        addEntry                        = "Add Entry",
		
		--markermanager
		minLevel						= "Min Level",
		maxLevel						= "Max Level",
		markerTime						= "Marker Time (s)",
		markerManager					= "MarkerManager",
		createMarker				 	= "Create Marker",
		editMarkers						= "Edit Markers",
		markerType						= "Marker Type",
		editMarkerList					= "Setup List",
		addMarker					 	= "Add To List",
		editMarker						= "Edit Marker",
		newMarker						= "New Marker",
		setupList						= "Setup List",
		markerMode						= "Marker Mode",
		markerList						= "Marker List",
		singleMarker					= "Single Marker",
		randomMarker					= "Random Marker",
        markerFields                    = "Marker Fields",
        grindMarker                     = "Grind Marker",
		removeMarker					= "Remove Marker",
		deleteMarker					= "Delete Marker",
        markerName                      = "Marker Name",
		
		--meshManager
        meshManager                     = "MeshManager",
		noMeshLoad						= "No Mesh Load",
		showrealMesh					= "Show NavMesh",
		newMeshName						= "New Meshfile Name",
		newMesh							= "Clear Navmesh",
		saveMesh						= "Save NavMesh",
		buildNAVMesh					= "Build NavMesh",
		editor							= "Edit Mesh",
		recoder							= "Record Mesh",
		connections						= "Connections",
		showPath						= "Show Path",
        setEvacPoint                    = "SetEvacPoint",
		recmesh							= "Record Mesh",
		recAreaType						= "Record Type",
		recAreaSize						= "Record Size",
		changeMesh						= "Change Mesh",
		changeAreaType					= "Change Type",
		changeAreaSize					= "Change Size",	
		biDirOffMesh					= "Bidirectional Offmeshconnection",
		addOffMeshSpot					= "Add OffMeshConnection",
		delOffMeshSpot					= "Del OffMeshConnection",
		typeOffMeshSpot					= "Type OffMeshConnection",
		createSingleCell				= "Create Single Cell",
        markers                         = "Markers",
        selectClosestMarker             = "Select Closest Marker",
		mapMarker						= "Map Marker",
        navmesh                         = "Navmesh",
		showMesh						= "Show Triangles ",
	},     
    ["fr"] =
    {
		--general
		generalSettings                 = "Géneral",
		time							= "Time (s)",
		name							= "Name",
		priorityUp 						= "Higher Priority",
		priorityDown					= "Lower Priority",
	
		--blacklistmanager
        blacklistManager                = "BlacklistManager",
        blacklistName                   = "Blacklist Name",
        blacklistEntry                  = "Blacklist Entry",
        entryTime                       = "Entry Time",
        deleteEntry                     = "Delete Entry",
        addEntry                        = "Add Entry",
		
		--markermanager
		minLevel						= "Min Level",
		maxLevel						= "Max Level",
		markerTime						= "Marker Time (s)",
		markerManager					= "MarkerManager",
		createMarker				 	= "Create Marker",
		editMarkers						= "Edit Markers",
		markerType						= "Marker Type",
		editMarkerList					= "Setup List",
		addMarker					 	= "Add To List",
		editMarker						= "Edit Marker",
		newMarker						= "New Marker",
		setupList						= "Setup List",
		markerMode						= "Marker Mode",
		markerList						= "Marker List",
		singleMarker					= "Single Marker",
		randomMarker					= "Random Marker",
        markerFields                    = "Marker Fields",
        grindMarker                     = "Grind Marker",
		removeMarker					= "Remove Marker",
		deleteMarker					= "Delete Marker",
        markerName                      = "Marker Name",
		
		--meshManager
        meshManager                     = "MeshManager",
		noMeshLoad						= "No Mesh Load",
		showMesh						= "Voir Triangles ",
		showrealMesh					= "Voir NavMesh",
		newMeshName						= "Nom Nouvelle Navmesh",
		newMesh							= "Effacer Navmesh",
		saveMesh						= "Sauvegarder NavMesh",
		buildNAVMesh					= "Construire NavMesh",
		recoder							= "Record Mesh",
		connections						= "Connections",
		editor							= "Éditeur",
		showPath						= "Show Path",
        setEvacPoint                    = "SetEvacPoint",
		recmesh							= "Record Mesh",
		recAreaType						= "Record Type",
		recAreaSize						= "Record Size",
		changeMesh						= "Change Mesh",
		changeAreaType					= "Change Type",
		changeAreaSize					= "Change Size",	
		biDirOffMesh					= "Bidirectional Offmeshconnection",
		addOffMeshSpot					= "Add OffMeshConnection",
		delOffMeshSpot					= "Del OffMeshConnection",
		typeOffMeshSpot					= "Type OffMeshConnection",
		createSingleCell				= "Create Single Cell",
        markers                         = "Markers",
        selectClosestMarker             = "Select Closest Marker",
		mapMarker						= "Map Marker",
        navmesh                         = "Navmesh",
	},       
    ["ru"] =
    {
		--general
        generalSettings                 = "General",
		time							= "Time (s)",
		name							= "Name",
		priorityUp 						= "Higher Priority",
		priorityDown					= "Lower Priority",
	
		--blacklistmanager
        blacklistManager                = "BlacklistManager",
        blacklistName                   = "Blacklist Name",
        blacklistEntry                  = "Blacklist Entry",
        entryTime                       = "Entry Time",
        deleteEntry                     = "Delete Entry",
        addEntry                        = "Add Entry",
		
		--markermanager
		minLevel						= "Min Level",
		maxLevel						= "Max Level",
		markerTime						= "Marker Time (s)",
		markerManager					= "MarkerManager",
		createMarker				 	= "Create Marker",
		editMarkers						= "Edit Markers",
		markerType						= "Marker Type",
		editMarkerList					= "Setup List",
		addMarker					 	= "Add To List",
		editMarker						= "Edit Marker",
		newMarker						= "New Marker",
		setupList						= "Setup List",
		markerMode						= "Marker Mode",
		markerList						= "Marker List",
		singleMarker					= "Single Marker",
		randomMarker					= "Random Marker",
        markerFields                    = "Marker Fields",
        grindMarker                     = "Grind Marker",
		removeMarker					= "Remove Marker",
		deleteMarker					= "Delete Marker",
        markerName                      = "Marker Name",
		
		--meshManager
        meshManager                     = "MeshManager",
		noMeshLoad						= "No Mesh Load",
		showrealMesh					= "Show NavMesh",
		newMeshName						= "New Meshfile Name",
		newMesh							= "Clear Navmesh",
		saveMesh						= "Save NavMesh",
		buildNAVMesh					= "Build NavMesh",
		editor							= "Edit Mesh",
		recoder							= "Record Mesh",
		connections						= "Connections",
		showPath						= "Show Path",
        setEvacPoint                    = "SetEvacPoint",
		recmesh							= "Record Mesh",
		recAreaType						= "Record Type",
		recAreaSize						= "Record Size",
		changeMesh						= "Change Mesh",
		changeAreaType					= "Change Type",
		changeAreaSize					= "Change Size",	
		biDirOffMesh					= "Bidirectional Offmeshconnection",
		addOffMeshSpot					= "Add OffMeshConnection",
		delOffMeshSpot					= "Del OffMeshConnection",
		typeOffMeshSpot					= "Type OffMeshConnection",
		createSingleCell				= "Create Single Cell",
        markers                         = "Markers",
        selectClosestMarker             = "Select Closest Marker",
		mapMarker						= "Map Marker",
        navmesh                         = "Navmesh",
		showMesh						= "Show Triangles ",
	},    	

}

function SetLanguageML(event, arg)
	d("Switching language "..tostring(arg))	
	if ( tonumber(arg) ~= nil ) then
		if ( arg == "0" ) then gCurrentLanguage = "us"
		elseif ( arg == "1" ) then gCurrentLanguage = "cn" 
		elseif ( arg == "2" ) then gCurrentLanguage = "jp" 
		elseif ( arg == "3" ) then gCurrentLanguage = "de" 
		elseif ( arg == "4" ) then gCurrentLanguage = "fr"
        elseif ( arg == "5" ) then gCurrentLanguage = "ru"
		end
	end	
end

-- returns a string in the current language or an indicator that the string does not exist in the language file
function GetStringML(stringName)
	if stringsML[gCurrentLanguage][stringName] == nil then
		return "%" .. tostring(stringName) .. "%"
	else
		return stringsML[gCurrentLanguage][stringName]
	end
end

-- iterates through every string in ["us"] and checks to make sure a corresponding entry
-- exists for every other language
function TestStringML()
	for usKey, usVal in pairs(stringsML["us"]) do
		for language, entries in pairs(stringsML) do
			if not language == "us" then
				if not entries[usKey] then
					d("Missing string "..usKey.." in language "..language)
				end
			end
		end
	end
end

RegisterEventHandler("MINION.setlanguage", SetLanguageML)
